# 📊 RFMセグメント × LTV × 離反予測

このリポジトリでは、架空の顧客購買データを用いて、**RFM分析・LTV分析・離反予測**を一連の流れで実施しました。

---

## 🔍 分析の目的

- 顧客の購買行動をRFM（Recency・Frequency・Monetary）で評価  
- RFMスコアに基づくルールベースのセグメント分け  
- KMeansによるクラスタリング（データドリブンなセグメント）  
- 顧客LTV（累計売上）の算出とスコア化  
- RFMセグメントとLTVスコアの掛け合わせ分析  
- 離反フラグを基にした離反予測モデルの構築（ランダムフォレスト）

---

## 🛠 使用技術

- Python（pandas, scikit-learn, matplotlib, seaborn）
- Jupyter Notebook

---

## 🧭 分析ステップ

1. RFMスコアの算出（各指標を5段階でスコア化）  
2. ルールベースによるRFMセグメントの定義（優良顧客、離反傾向、新規など）  
3. KMeansクラスタリングによるセグメント分け（補完的なアプローチ）  
4. LTV（累計売上）の計算とスコア化  
5. RFMセグメント × LTVスコアの可視化  
6. 離反フラグの設計（Recency > 180日を閾値）  
7. ランダムフォレストによる離反予測モデル構築  
8. 特徴量重要度（Feature Importance）の可視化  

---

## 📌 主なインサイト

- **Recency** が離反予測において最も有効な指標であると確認  
- RFMスコアとLTVスコアの組み合わせにより、  
　「過去に高価値だったが現在は離反傾向にある顧客（失いたくない元VIP）」を抽出可能  
- 離反予測モデル（ランダムフォレスト）は、Recencyを含む場合に**精度100%**を記録  
（Recency除外時の精度：約79%）

---

## 📁 出力ファイル

- `CRM分析.ipynb`：分析全体を記述したJupyter Notebook  
- `rfm_result.csv`：RFMスコア・セグメント・LTV等を付与した顧客データ

---

## 🚀 今後の展望

- TableauやPower BIによるインタラクティブな可視化・ダッシュボード化  
- RFMスコアの**時系列変化**を追跡し、顧客動向を継続的にモニタリング  
- 機械学習による**LTV予測モデルの高度化**（XGBoost等の検討）
